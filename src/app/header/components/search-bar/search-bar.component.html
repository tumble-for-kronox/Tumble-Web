<div *transloco="let t" class="clr-search-bar container" [style.height]="this.expanded ? '25rem' : '3rem'"
    #searchContainer>
    <div class="input-row">
        <button mat-icon-button (click)="this.search()" [disabled]="this.loading">
            <mat-icon *ngIf="!this.loading">search</mat-icon>
            <mat-icon class="search-bar-loading" *ngIf="this.loading">
                <mat-spinner diameter="22"></mat-spinner>
            </mat-icon>
        </button>
        <input #inputField (input)="this.dynamicSearch()" (keyup.enter)="this.search()" type="search"
            [placeholder]="t('site-header.search-bar.placeholder')" (focus)="this.expanded = true">
        <button mat-icon-button *ngIf="this.expanded" (click)="this.clearSearchInput()">
            <mat-icon>cancel</mat-icon>
        </button>
    </div>
    <div class="divider"></div>
    <div [style.height]="'0.5rem'"></div>
    <div *ngIf="this.results == null" class="results-placeholder">
        <h3>{{t('site-header.search-bar.search-help')}}</h3>
    </div>
    <div *ngIf="this.results" class="results-container">
        <h4>{{t('site-header.search-bar.results', { count: this.resultCount })}}</h4>
        <search-result *ngFor="let item of this.results" [title]="item.subtitle" [subtitle]="item.title">
        </search-result>
    </div>
</div>